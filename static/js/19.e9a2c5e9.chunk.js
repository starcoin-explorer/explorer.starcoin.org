(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[19],{757:function(t,a,e){"use strict";e.r(a);var n=e(2),c=e(18),r=e(35),s=e(38),o=e(80),i=e(79),l=e(0),j=e(24),u=e(100),h=e(635),b=e(636),d=e(103),p=e(22),O=e(644),g=e(122),v=e(576),x=e(16),f=e(67),m=e(663),y=e(665),k=e(572),P=e(629),_=e(641),L=function(t){Object(o.a)(e,t);var a=Object(i.a)(e);function e(t){var n;return Object(r.a)(this,e),(n=a.call(this,t)).fetchListPage=function(t){n.props.getTransactionList({page:t})},n.pagination=function(t){var a=n.props.transactionList?n.props.transactionList.contents:[],e=a[a.length-1],c=e&&e.sort||0;if("prev"===t&&n.state.currentPage>1){var r=n.state.currentPage-1;n.props.getTransactionList({page:r,after:c},(function(){n.pagenationCallback(r)}))}else if("next"===t){var s=n.state.currentPage+1;n.props.getTransactionList({page:s,after:c},(function(){n.pagenationCallback(s)}))}},n.pagenationCallback=function(t){n.setState({currentPage:t})},n.state={currentPage:1},n}return Object(s.a)(e,[{key:"componentDidMount",value:function(){this.fetchListPage(this.state.currentPage)}},{key:"render",value:function(){var t=this,a=this.props,e=a.transactionList,c=a.isLoadingMore,r=a.className,s=a.classes,o=a.t;console.log({transactionList:e});var i=!e,l=e&&e.contents||[],j=l.length?Object(n.jsx)(_.a,{transactions:l}):Object(n.jsx)(P.a,{children:Object(n.jsx)("div",{className:s.header,children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,className:s.title,children:o("transaction.NoTransactionData")})})});return Object(n.jsxs)("div",{children:[Object(n.jsx)(g.b,{children:Object(n.jsx)("title",{children:o("header.transactions")})}),Object(n.jsx)(m.a,{className:r,title:o("header.transactions"),name:o("header.transactions"),pluralName:o("header.transactions"),content:Object(n.jsxs)("div",{children:[i?Object(n.jsx)(f.a,{}):j,Object(n.jsx)("div",{className:s.pagerArea,children:Object(n.jsx)(y.a,{page:this.state.currentPage,pageSize:20,currentPageSize:null==l?null:l.length,hasPreviousPage:this.state.currentPage>1,hasNextPage:!0,onPrevPage:function(){return t.pagination("prev")},onNextPage:function(){return t.pagination("next")},isLoading:c})})]})})]})}}]),e}(l.PureComponent);L.defaultProps={transactionList:null,isLoadingMore:void 0,getTransactionList:function(){}};var N=Object(x.a)((function(){return Object(v.a)({pagerArea:{alignItems:"center",display:"flex",justifyContent:"flex-end"}})}))(Object(O.a)()(L)),T=d.a.selector,w=d.a.actions,S=Object(b.a)([p.e]),C=Object(h.a)(T,S,(function(t,a){return{transactionList:t.transactionList,isLoadingMore:t.isLoadingMore,loading:a}})),D=Object(u.c)(C,{getTransactionList:w.getTransactionList})(N),M=e(625),B=e(622),E=e(623),F=e(89),z=e.n(F),H=e(637),J=e(630),R=e(648),A=e(666),I=e(204),q=e(12),K=e(102),U=e.n(K),G=e(17),W=e(107),Q=function(t){Object(o.a)(e,t);var a=Object(i.a)(e);function e(){return Object(r.a)(this,e),a.apply(this,arguments)}return Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.hash;this.props.getTransaction({hash:t})}},{key:"generateExtra",value:function(){for(var t=this.props,a=t.transaction,e=t.classes,c=t.t,r=!a,s=U()(a,"events",[]),o=[],i=0;i<s.length;i++){var l=[],j=s[i];console.log({event:j});var u=j.type_tag.split("::");console.log({eventTypeArray:u});var h=u[1],b=u[2],d=void 0,p=void 0;try{var O=I.c.decodeEventData(b,j.data);d=Object(G.e)(O.toJS())}catch(y){console.log(y),d=j.data}try{var g=j.event_key,v=I.c.decodeEventKey(g);p=Object(G.e)(v)}catch(y){console.log(y),p=j.event_key}l.push([c("event.Data"),d]),l.push([c("event.Module"),h]),l.push([c("event.Name"),b]),l.push([c("event.Key"),p]),l.push([c("event.Seq"),Object(H.a)(j.event_seq_number)]),o.push(Object(n.jsx)(A.a,{columns:l},j.event_key))}var x=s.length?o:Object(n.jsx)(k.a,{variant:"body1",children:c("event.NoEventData")}),m=Object(n.jsx)("pre",{children:JSON.stringify(a,null,2)})||Object(n.jsx)(k.a,{variant:"body1",children:c("transaction.NoRawData")});return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)(B.a,{expandIcon:Object(n.jsx)(z.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,children:c("header.events")})}),Object(n.jsx)(E.a,{children:Object(n.jsx)("div",{className:e.table,children:Object(n.jsx)("div",{className:e.table,children:r?Object(n.jsx)(f.a,{}):x})})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(M.a,{children:[Object(n.jsx)(B.a,{expandIcon:Object(n.jsx)(z.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(k.a,{variant:"h5",gutterBottom:!0,children:c("transaction.RawData")})}),Object(n.jsx)(E.a,{children:Object(n.jsx)("div",{className:e.rawData,children:r?Object(n.jsx)(f.a,{}):m})})]})]})}},{key:"render",value:function(){var t=this.props,a=t.transaction,e=t.match,c=t.t;if(console.log(a),!a)return Object(n.jsx)(f.a,{});var r=e.params.network,s=a,o="",i="";s.user_transaction&&s.user_transaction.raw_txn&&(o=s.user_transaction.raw_txn.payload,i=s.user_transaction.raw_txn.sender);var l,j,u,h,b,d=o?I.b.decodeTransactionPayload(o):[],p=Object.keys(d)[0];if("ScriptFunction"in d){var O=d.ScriptFunction.func;l=O.functionName,j=O.module;var g=d.ScriptFunction.args;try{u=g[0],h=g[1],b=new I.a.BcsDeserializer(Object(q.a)(g[2])).deserializeU128().toString()}catch(x){console.log(x)}}var v=[[c("common.Hash"),s.transaction_hash],[c("transaction.Type"),p],[c("transaction.BlockHash"),Object(n.jsx)(J.a,{path:"/".concat(r,"/blocks/detail/").concat(s.block_hash),title:s.block_hash})],[c("transaction.BlockHeight"),Object(n.jsx)(W.a,{to:"/".concat(r,"/blocks/height/").concat(s.block_number),children:Object(H.a)(s.block_number)})],[c("transaction.StateRootHash"),s.state_root_hash],[c("transaction.Status"),s.status],[c("common.GasUsed"),s.gas_used],[c("transaction.Sender"),Object(n.jsx)(J.a,{path:"/".concat(r,"/address/").concat(i),title:i})]];return j&&v.push([c("transaction.FunctionModuleName"),j]),l&&v.push([c("transaction.FunctionName"),l]),u&&v.push([c("transaction.arg0"),Object(n.jsx)(J.a,{path:"/".concat(r,"/address/").concat(u),title:u})]),h&&v.push([c("transaction.arg1"),h]),b&&v.push([c("transaction.arg2"),"".concat(Object(G.a)(b)," STC")]),Object(n.jsx)(R.a,{id:s.transaction_hash,title:c("transaction.title"),name:c("transaction.title"),pluralName:c("transaction.title"),searchRoute:"/".concat(r,"/transactions"),bodyColumns:v,extra:this.generateExtra()})}}]),e}(l.PureComponent);Q.defaultProps={match:{},transaction:null,getTransaction:function(){}};var V=Object(x.a)((function(){return Object(v.a)({table:{width:"100%",display:"block"},shrinkMaxCol:{flex:"1 100 auto",minWidth:60},shrinkCol:{flex:"1 10 auto"},rawData:{wordBreak:"break-all",overflow:"auto"}})}))(Object(O.a)()(Q)),X=d.a.selector,Y=d.a.actions,Z=Object(b.a)([p.d]),$=Object(h.a)(X,Z,(function(t,a){return{transaction:t.transaction,loading:a}})),tt=Object(u.c)($,{getTransaction:Y.getTransaction})(V),at=function(t){Object(o.a)(e,t);var a=Object(i.a)(e);function e(){return Object(r.a)(this,e),a.apply(this,arguments)}return Object(s.a)(e,[{key:"render",value:function(){var t=this.props.computedMatch;return Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"".concat(t.path,"/detail/:hash"),render:function(t){return Object(n.jsx)(tt,Object(c.a)({},t))}}),Object(n.jsx)(j.b,{exac:!0,path:"".concat(t.path),render:function(t){return Object(n.jsx)(D,Object(c.a)({},t))}})]})}}]),e}(l.PureComponent);a.default=at}}]);
//# sourceMappingURL=19.e9a2c5e9.chunk.js.map