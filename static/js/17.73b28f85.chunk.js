(this["webpackJsonpstarcoin-explorer"]=this["webpackJsonpstarcoin-explorer"]||[]).push([[17],{434:function(t,e,a){"use strict";var n=a(2),c=a(32),s=a(43),i=a(65),r=a(64),o=a(0),l=a.n(o),h=a(421),b=a(354),u=a(13),j=a(7),d=a(33),p=a.n(d),O=a(517),g=a(351),m=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t,e,a=this.props,c=a.name,s=a.values,i=a.numeric,r=a.minWidth,o=a.visibleAt,l=a.firstCol,h=a.getRowHeight,b=a.className,u=a.classes,d=h||function(t){return null},m=function(t){return"string"===typeof t?Object(n.jsx)(g.a,{className:p()(u.textRowBase,u.row),variant:"body1",children:t}):t},f=s.map((function(t,e){var a,c,s=d(e);return null!=s&&(c={height:s}),Object(n.jsx)("div",{className:p()((a={},Object(j.a)(a,u.pad,!l),Object(j.a)(a,u.firstCol,l),Object(j.a)(a,u.baseRow,!0),Object(j.a)(a,u.row,!0),Object(j.a)(a,u.oddRow,e%2===1),Object(j.a)(a,u.numeric,!!i),a)),style:c,children:m(t)},e)})),v=Object(n.jsxs)("div",{className:p()((t={},Object(j.a)(t,u.root,!0),Object(j.a)(t,u.alwaysVisible,!0),Object(j.a)(t,u.minWidth,!r),t),b),children:[Object(n.jsx)("div",{className:p()((e={},Object(j.a)(e,u.pad,!l),Object(j.a)(e,u.firstCol,l),Object(j.a)(e,u.baseRow,!0),Object(j.a)(e,u.numeric,!!i),e)),children:Object(n.jsx)(g.a,{className:p()(u.textRowBase,u.header),variant:"body1",children:c})}),f]});return Object(n.jsx)(O.a,{xsDown:"xs"===o,smDown:"sm"===o,mdDown:"md"===o,lgDown:"lg"===o,xlDown:"xl"===o,implementation:"js",children:v})}}]),a}(l.a.PureComponent),f=Object(u.a)((function(t){var e;return Object(b.a)((e={},Object(j.a)(e,t.breakpoints.down("sm"),{pad:{paddingLeft:t.spacing(1)},firstCol:{paddingLeft:t.spacing(1)}}),Object(j.a)(e,t.breakpoints.up("sm"),{pad:{paddingLeft:t.spacing(3)},firstCol:{paddingLeft:t.spacing(2)}}),Object(j.a)(e,t.breakpoints.up("md"),{pad:{paddingLeft:t.spacing(5)}}),Object(j.a)(e,"root",{flex:"1 1 auto",flexDirection:"column"}),Object(j.a)(e,"minWidth",{minWidth:"0"}),Object(j.a)(e,"alwaysVisible",{display:"flex"}),Object(j.a)(e,"baseRow",{display:"flex",alignItems:"center",borderBottom:"1px solid rgba(0, 0, 0, 0.075)",minHeight:48,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),Object(j.a)(e,"row",{fontFamily:t.typography.fontFamily,fontSize:14,fontWeight:t.typography.fontWeightRegular,color:t.palette.text.primary}),Object(j.a)(e,"header",{fontFamily:t.typography.fontFamily,fontSize:14,fontWeight:t.typography.fontWeightBold,color:t.palette.text.secondary}),Object(j.a)(e,"textRowBase",{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),Object(j.a)(e,"oddRow",{backgroundColor:"rgba(0, 0, 0, 0.075)"}),Object(j.a)(e,"numeric",{justifyContent:"flex-end",textAlign:"right"}),Object(j.a)(e,"pad",{}),Object(j.a)(e,"firstCol",{}),e))}))(m),v=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this.props,e=t.columns,a=t.getRowHeight,c=t.className,s=t.classes,i=a||function(t){return null};return Object(n.jsx)("div",{className:p()(c,s.root),children:e.map((function(t,e){return Object(n.jsx)(f,{className:t.className,name:t.name,values:t.values,numeric:t.numeric,visibleAt:t.visibleAt,firstCol:0===e,minWidth:t.minWidth,getRowHeight:i},t.name)}))})}}]),a}(l.a.PureComponent),x=Object(u.a)((function(t){var e;return Object(b.a)((e={},Object(j.a)(e,t.breakpoints.down("sm"),{root:{"& > div:last-child > div":{paddingRight:t.spacing(1)}}}),Object(j.a)(e,t.breakpoints.up("sm"),{root:{"& > div:last-child > div":{paddingRight:t.spacing(2)}}}),Object(j.a)(e,"root",{display:"flex"}),e))}))(v),k=a(89),y=a(414),B=a(19),w=a(406),P=a(415),N=function(t){Object(i.a)(a,t);var e=Object(r.a)(a);function a(){return Object(c.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this.props,e=t.blocks,a=t.authorVisibleAt,c=t.className,s=t.classes,i=t.t,r=[],o=[],l=[],h=[];e.forEach((function(t){var e=t._source.header,a="/".concat(Object(B.a)(),"/blocks/height/").concat(e.number),c="/".concat(Object(B.a)(),"/address/").concat(e.author);r.push(Object(n.jsx)(k.a,{to:a,children:Object(y.a)(e.number)})),o.push(Object(n.jsx)(P.a,{time:e.timestamp})),l.push(Object(y.a)(t._source.body.Full.length)),h.push(Object(n.jsx)(w.a,{path:c,title:e.author}))}));var b=[{name:i("block.Height"),values:r,minWidth:!0},{name:i("common.Time"),values:o,minWidth:!0},{name:i("block.Transactions"),numeric:!0,values:l,className:s.transactionsCol},{name:i("block.Author"),values:h,visibleAt:a,className:s.validatorCol}];return Object(n.jsx)(x,{className:c,columns:b})}}]),a}(l.a.PureComponent);e.a=Object(u.a)((function(){return Object(b.a)({transactionsCol:{flex:"1 100 auto"},validatorCol:{flex:"1 100 auto"}})}))(Object(h.a)()(N))},531:function(t,e,a){"use strict";a.r(e);var n=a(2),c=a(14),s=a(32),i=a(43),r=a(65),o=a(64),l=a(0),h=a(22),b=a(80),u=a(411),j=a(410),d=a(87),p=a(28),O=a(421),g=a(98),m=a(354),f=a(13),v=a(55),x=a(441),k=a(442),y=a(434),B=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).fetchListPage=function(t){n.props.getBlockList({page:t})},n.pagination=function(t){if("prev"===t&&n.state.currentPage>1){var e=n.state.currentPage-1;n.props.getBlockList({page:e},(function(){n.setState({currentPage:e})}))}else if("next"===t){var a=n.state.currentPage+1;n.props.getBlockList({page:a},(function(){n.setState({currentPage:a})}))}},n.state={currentPage:1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchListPage(this.state.currentPage)}},{key:"render",value:function(){var t=this,e=this.props,a=e.blockList,c=e.classes,s=e.t,i=e.className,r=e.isLoadingMore,o=!a,l=(a&&a.hits.hits||[]).sort((function(t,e){return e._source.header.number-t._source.header.number}));return Object(n.jsxs)("div",{children:[Object(n.jsx)(g.b,{children:Object(n.jsx)("title",{children:s("header.blocks")})}),Object(n.jsx)(x.a,{className:i,title:s("header.blocks"),name:s("header.blocks"),pluralName:s("header.blocks"),content:Object(n.jsxs)("div",{children:[o?Object(n.jsx)(v.a,{}):Object(n.jsx)(y.a,{blocks:l,sizeVisibleAt:"xs",authorVisibleAt:"md"}),Object(n.jsx)("div",{className:c.pagerArea,children:Object(n.jsx)(k.a,{page:this.state.currentPage,pageSize:20,currentPageSize:null==l?null:l.length,hasPreviousPage:this.state.currentPage>1,hasNextPage:!0,onPrevPage:function(){return t.pagination("prev")},onNextPage:function(){return t.pagination("next")},isLoading:r})})]})})]})}}]),a}(l.PureComponent);B.defaultProps={blockList:null,isLoadingMore:void 0,getBlockList:function(){}};var w=Object(f.a)((function(){return Object(m.a)({pagerArea:{alignItems:"center",display:"flex",justifyContent:"flex-end"}})}))(Object(O.a)()(B)),P=d.a.selector,N=d.a.actions,C=Object(j.a)([p.c]),L=Object(u.a)(P,C,(function(t,e){return{blockList:t.blockList,isLoadingMore:t.isLoadingMore,loading:e}})),D=Object(b.c)(L,{getBlockList:N.getBlockList})(w),T=a(21),_=a(83),H=a(418),R=a(425),W=a(406),A=a(414),S=a(402),M=a(399),F=a(400),z=a(351),E=a(69),I=a.n(E),V=a(423),q=a(82),J=a.n(q),U=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(t){var n;return Object(s.a)(this,a),(n=e.call(this,t)).state={epochData:void 0,hash:t.match.params.hash,height:t.match.params.height},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(t,e){t.match.params.hash!==this.state.hash&&e.hash!==this.state.hash&&this.fetchData()}},{key:"fetchData",value:function(){var t=this.state.hash,e=this.state.height;t&&(this.props.getBlock({hash:t}),this.props.getBlockTransactions({hash:t})),e&&(this.props.getBlockByHeight({height:e}),this.props.getBlockTransactionsByHeight({height:e}))}},{key:"generateExtra",value:function(){var t=this.props,e=t.block,a=t.blockTransactions,c=t.classes,s=t.t,i=!e,r=J()(e,"hits.hits[0]._source.body.Full",[]),o=J()(a,"hits.hits[0]._source.events",[]),l=[];o.forEach((function(t){var e=[];e.push([s("event.Data"),t.data]),e.push([s("event.Key"),t.event_key]),e.push([s("event.Seq"),Object(A.a)(t.event_seq_number)]),l.push(Object(n.jsx)(V.a,{columns:e},t.event_key))}));var h=r.length?Object(n.jsx)(H.a,{transactions:r}):Object(n.jsx)(z.a,{variant:"body1",children:s("transaction.NoTransactionData")}),b=o.length?l:Object(n.jsx)(z.a,{variant:"body1",children:s("event.NoEventData")});return Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(M.a,{expandIcon:Object(n.jsx)(I.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(z.a,{variant:"h5",gutterBottom:!0,children:s("transaction.title")})}),Object(n.jsx)(F.a,{children:Object(n.jsx)("div",{className:c.table,children:i?Object(n.jsx)(v.a,{}):h})})]}),Object(n.jsx)("br",{}),Object(n.jsxs)(S.a,{children:[Object(n.jsx)(M.a,{expandIcon:Object(n.jsx)(I.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(z.a,{variant:"h5",gutterBottom:!0,children:s("header.events")})}),Object(n.jsx)(F.a,{children:Object(n.jsx)("div",{className:c.table,children:i?Object(n.jsx)(v.a,{}):b})})]})]})}},{key:"render",value:function(){var t=this.props,e=t.block,a=t.blockTransactions,c=t.match,s=t.t,i=c.params.network;if(!e||!a)return Object(n.jsx)(v.a,{});if(!e.hits.hits.length)return null;var r=e.hits.hits[0]._source.header,o=[[s("common.Hash"),r.block_hash],[s("block.Height"),Object(A.a)(r.number)],[s("common.Time"),new Date(parseInt(r.timestamp,10)).toLocaleString()],[s("block.Author"),Object(n.jsx)(W.a,{path:"/".concat(i,"/address/").concat(r.author),title:r.author},r.author)],[s("block.Difficulty"),r.difficulty],[s("common.GasUsed"),r.gas_used],[s("block.ParentHash"),Object(n.jsx)(W.a,{path:"/".concat(i,"/blocks/detail/").concat(r.parent_hash),title:r.parent_hash},r.parent_hash)]];return Object(n.jsx)(R.a,{id:r.block_hash,title:s("block.title"),name:s("block.title"),pluralName:s("header.blocks"),searchRoute:"/".concat(i,"/blocks"),bodyColumns:o,extra:this.generateExtra()})}}],[{key:"getDerivedStateFromProps",value:function(t,e){return t.match.params.hash!==e.hash?Object(c.a)(Object(c.a)({},e),{},{hash:t.match.params.hash,height:""}):null}}]),a}(l.PureComponent);U.defaultProps={match:{},block:null,blockTransactions:null,getBlock:function(){},getBlockByHeight:function(){},getBlockTransactions:function(){},getBlockTransactionsByHeight:function(){}};var G=Object(f.a)((function(){return Object(m.a)({table:{width:"100%",display:"block"},shrinkMaxCol:{flex:"1 100 auto",minWidth:60},shrinkCol:{flex:"1 10 auto"}})}))(Object(O.a)()(U)),K=d.a.selector,Q=d.a.actions,X=_.a.selector,Y=_.a.actions,Z=Object(j.a)([p.a,p.b,T.b,T.c]),$=Object(u.a)(K,X,Z,(function(t,e,a){return{block:t.block,blockTransactions:e.blockTransactions,loading:a}})),tt=Object(b.c)($,{getBlock:Q.getBlock,getBlockByHeight:Q.getBlockByHeight,getBlockTransactions:Y.getBlockTransactions,getBlockTransactionsByHeight:Y.getBlockTransactionsByHeight})(G),et=function(t){Object(r.a)(a,t);var e=Object(o.a)(a);function a(){return Object(s.a)(this,a),e.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var t=this.props.computedMatch;return Object(n.jsxs)(h.c,{children:[Object(n.jsx)(h.a,{path:"".concat(t.path,"/height/:height"),render:function(t){return Object(n.jsx)(tt,Object(c.a)({},t))}}),Object(n.jsx)(h.a,{path:"".concat(t.path,"/detail/:hash"),render:function(t){return Object(n.jsx)(tt,Object(c.a)({},t))}}),Object(n.jsx)(h.a,{exac:!0,path:"".concat(t.path),render:function(t){return Object(n.jsx)(D,Object(c.a)({},t))}})]})}}]),a}(l.PureComponent);e.default=et}}]);
//# sourceMappingURL=17.73b28f85.chunk.js.map